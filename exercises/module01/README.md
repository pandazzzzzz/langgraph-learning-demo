# Module 01 练习题 - LangGraph基础

欢迎来到LangGraph学习的第一个模块！这些练习将帮助你掌握LangGraph的基础概念。

## 📚 学习目标

完成本模块后，你将能够：
- 理解LangGraph的核心概念（状态图、节点、边）
- 创建简单的状态图应用
- 管理应用状态
- 集成基础的LLM功能
- 处理简单的条件逻辑

## 🎯 练习列表

### 练习 1.1: 理解基础概念 (15分钟)
**难度**: 初学者  
**文件**: `exercise_01_concepts.py`

阅读并运行基础聊天机器人示例，然后回答以下问题：
1. 什么是StateGraph？
2. 节点(Node)在LangGraph中的作用是什么？
3. 边(Edge)如何控制执行流程？

### 练习 1.2: 修改聊天机器人 (20分钟)
**难度**: 初学者  
**文件**: `exercise_02_modify_chatbot.py`

基于基础聊天机器人示例，完成以下任务：
1. 修改机器人的个性，让它表现得更加友好和幽默
2. 添加一个计数器，跟踪对话轮数
3. 当对话超过5轮时，机器人主动询问是否需要帮助

### 练习 1.3: 添加条件逻辑 (25分钟)
**难度**: 初学者  
**文件**: `exercise_03_conditional_logic.py`

创建一个智能路由系统：
1. 添加一个路由节点，根据用户输入决定下一步行动
2. 如果用户问候（hello, hi等），转到问候节点
3. 如果用户询问时间，转到时间节点
4. 其他情况转到通用聊天节点

### 练习 1.4: 状态管理进阶 (30分钟)
**难度**: 中级  
**文件**: `exercise_04_advanced_state.py`

扩展状态管理功能：
1. 添加用户偏好存储（姓名、兴趣爱好等）
2. 实现记忆功能，机器人能记住之前的对话内容
3. 添加情感分析，根据用户情绪调整回复风格

### 练习 1.5: 错误处理和恢复 (25分钟)
**难度**: 中级  
**文件**: `exercise_05_error_handling.py`

实现健壮的错误处理：
1. 处理API调用失败的情况
2. 实现重试机制（最多3次）
3. 当所有重试失败时，提供友好的错误消息
4. 添加日志记录功能

## 📝 练习模板

每个练习都提供了起始模板和详细说明。你需要：

1. **阅读说明** - 理解练习要求
2. **完成代码** - 在指定位置填写代码
3. **运行测试** - 验证你的实现
4. **提交答案** - 保存你的解决方案

## 🧪 运行练习

```bash
# 进入练习目录
cd exercises/module01

# 运行特定练习
python exercise_01_concepts.py

# 运行所有练习的测试
pytest test_exercises.py -v
```

## ✅ 验收标准

每个练习都有明确的验收标准：

### 练习 1.1
- [ ] 正确回答所有概念问题
- [ ] 能够解释StateGraph的工作原理
- [ ] 理解节点和边的关系

### 练习 1.2
- [ ] 成功修改机器人个性
- [ ] 正确实现对话计数功能
- [ ] 在适当时机触发帮助询问

### 练习 1.3
- [ ] 路由逻辑正确工作
- [ ] 所有条件分支都能正确执行
- [ ] 代码结构清晰，易于理解

### 练习 1.4
- [ ] 用户偏好正确存储和检索
- [ ] 记忆功能正常工作
- [ ] 情感分析影响回复风格

### 练习 1.5
- [ ] 错误处理覆盖所有场景
- [ ] 重试机制正确实现
- [ ] 日志记录信息完整

## 💡 提示和技巧

### 调试技巧
```python
# 打印状态信息
print(f"Current state: {state}")

# 使用断点调试
import pdb; pdb.set_trace()

# 添加详细日志
import logging
logging.basicConfig(level=logging.DEBUG)
```

### 常见错误
1. **状态更新错误** - 确保返回完整的状态字典
2. **节点命名冲突** - 使用唯一的节点名称
3. **边配置错误** - 检查起始和结束节点是否存在

### 最佳实践
1. **保持节点简单** - 每个节点只做一件事
2. **状态结构清晰** - 使用TypedDict定义状态结构
3. **错误处理完整** - 考虑所有可能的失败场景
4. **代码可读性** - 添加适当的注释和文档

## 🎓 完成后的下一步

完成所有练习后，你应该：

1. **回顾学习内容** - 确保理解所有概念
2. **完成自我评估** - 使用提供的检查清单
3. **准备进入Module 02** - 学习更高级的状态管理
4. **分享你的经验** - 在社区中讨论你的学习心得

## 📞 获取帮助

如果遇到困难，可以：

1. **查看示例代码** - 参考`src/examples/`中的示例
2. **阅读文档** - 查看`docs/tutorials/module01-basics.md`
3. **运行测试** - 使用测试来验证你的理解
4. **提问讨论** - 在GitHub Discussions中提问

记住，学习是一个过程，不要害怕犯错误。每个错误都是学习的机会！

**祝你学习愉快！🚀**